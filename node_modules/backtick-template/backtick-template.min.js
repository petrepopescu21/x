/*! (C) 2017 Andrea Giammarchi - MIT Style License */
function template(t,e,n){"use strict";for(var i,s,r,h=JSON.stringify,l="function"==typeof t,u=l?e:t,a=l?n:e,c=0,o=u.length,p=c<o?[]:['""'],f=l?[]:p;c<o;)if(i=u.indexOf("${",c),-1<i){for(p.push(h(u.slice(c,i))),i+=2,s=i,r=1;s<o;){switch(u.charAt(s++)){case"}":r-=1;break;case"{":r+=1}if(r<1){f.push("("+u.slice(i,s-1)+")");break}}c=s}else p.push(h(u.slice(c))),c=o;return l?(u="function"+(1e5*Math.random()|0),p.length===f.length&&p.push('""'),p=[u,"with(this)return "+u+"(["+p+"]"+(f.length?","+f.join(","):"")+")"]):p=["with(this)return "+p.join("+")],Function.apply(null,p).apply(a,l?[t]:[])}template.asMethod=function(t,e){"use strict";return"function"==typeof t?template(t,this,e):template(this,t)};try{module.exports=template}catch(t){}